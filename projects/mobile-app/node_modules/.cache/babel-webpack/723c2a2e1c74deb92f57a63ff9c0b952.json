{"ast":null,"code":"import _asyncToGenerator from \"/Users/avsv/Documents/GitHub/atlas-workspace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/data/user.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"angular-svg-icon\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"input\"];\nexport let AuthPage = /*#__PURE__*/(() => {\n  class AuthPage {\n    constructor(userService, navCtrl) {\n      this.userService = userService;\n      this.navCtrl = navCtrl;\n      this.codeInput = undefined;\n      this.codeControl = new FormControl('', [Validators.required, Validators.minLength(5)]);\n      this.isSwingAnimation$ = new BehaviorSubject(false);\n    }\n\n    ngOnInit() {\n      this.codeControl.valueChanges.subscribe(x => {\n        if (!this.codeControl.valid) {\n          return;\n        }\n\n        this.auth(x).then();\n      });\n    }\n\n    auth(code) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        _this.navCtrl.navigateRoot('tabs');\n\n        return;\n        (_a = _this.codeInput) === null || _a === void 0 ? void 0 : _a.nativeElement.blur();\n\n        _this.isSwingAnimation$.next(false);\n\n        try {\n          yield _this.userService.login(code);\n        } catch (e) {\n          _this.isSwingAnimation$.next(true);\n\n          _this.codeControl.setValue('');\n        }\n      })();\n    }\n\n  }\n\n  AuthPage.ɵfac = function AuthPage_Factory(t) {\n    return new (t || AuthPage)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.NavController));\n  };\n\n  AuthPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AuthPage,\n    selectors: [[\"app-auth\"]],\n    viewQuery: function AuthPage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.codeInput = _t.first);\n      }\n    },\n    decls: 17,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"header\"], [1, \"title\"], [1, \"content\"], [1, \"enter-with-logo\"], [1, \"enter\"], [1, \"enter__title\"], [1, \"enter__code\"], [\"type\", \"tel\", \"maxlength\", \"5\", 3, \"formControl\"], [\"input\", \"\"], [1, \"enter__subtitle\"], [1, \"logo-wrapper\"], [\"src\", \"assets/icons/gpn-logo.svg\"]],\n    template: function AuthPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3, \" \\u0412\\u0445\\u043E\\u0434 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵpipe(7, \"async\");\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵtext(9, \" \\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u0434 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelement(11, \"input\", 8, 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 10);\n        i0.ɵɵtext(14, \" \\u0415\\u0441\\u043B\\u0438 \\u0443 \\u0412\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u043A\\u043E\\u0434\\u0430, \\u043E\\u0431\\u0440\\u0430\\u0442\\u0438\\u0442\\u0435\\u0441\\u044C \\u043A \\u0440\\u0443\\u043A\\u043E\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044E \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 11);\n        i0.ɵɵelement(16, \"svg-icon\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"swing\", i0.ɵɵpipeBind1(7, 3, ctx.isSwingAnimation$));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.codeControl);\n      }\n    },\n    directives: [i3.DefaultValueAccessor, i3.MaxLengthValidator, i3.NgControlStatus, i3.FormControlDirective, i4.SvgIconComponent],\n    pipes: [i5.AsyncPipe],\n    styles: [\"*[_ngcontent-%COMP%]{box-sizing:border-box}.container[_ngcontent-%COMP%]{height:100%;width:100%;font-weight:500;background:#12151E;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]{margin-left:-21.3333333333vw;margin-top:-49.2610837438vh}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{z-index:999;height:15.5172413793vh;min-height:15.5172413793vh;max-height:15.5172413793vh;font-size:3.2019704433vh;font-weight:600;font-family:\\\"SegoeUI_Bold\\\";display:flex;flex-direction:column;justify-content:flex-end;padding:0 11.2vw}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:11.6995073892vh;color:#d7e2f2}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100vh;position:relative;display:flex;flex-flow:column;justify-content:space-around;align-items:center;color:#d7e2f2;font-size:2.2167487685vh;overflow:hidden}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{z-index:99;width:100%;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter__code[_ngcontent-%COMP%]{z-index:999;height:9.7290640394vh;border-radius:.9852216749vh;font-weight:900;font-family:\\\"SegoeUI_Bold\\\"}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter__title[_ngcontent-%COMP%]{margin-bottom:1.9704433498vh;font-weight:700;font-size:2.2167487685vh}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter__subtitle[_ngcontent-%COMP%]{height:11.8226600985vh;width:66.6666666667vw;color:#d7e2f2;font-weight:300;font-size:1.724137931vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter__subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:\\\"SegoeUI_Bold\\\";font-weight:700}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{z-index:99;height:9.7290640394vh;width:75vw;border-radius:.9852216749vh;font-size:9.6vw;color:#d7e2f2;padding:10.6666666667vw 0;letter-spacing:5.8666666667vw;background-color:#1c1f2b;outline:none;border:none;margin-bottom:5.1724137931vh;text-align:center;font-weight:bold}.swing[_ngcontent-%COMP%]{animation:swing .6s ease;animation-iteration-count:1}@keyframes swing{15%{transform:translate(9px)}30%{transform:translate(-9px)}40%{transform:translate(6px)}50%{transform:translate(-6px)}65%{transform:translate(3px)}to{transform:translate(0)}}.enter-with-logo[_ngcontent-%COMP%]{margin-bottom:4.9261083744vh;display:flex;flex-direction:column;justify-content:space-around;height:100%;align-items:center}.logo-wrapper[_ngcontent-%COMP%]{margin-left:-1.6vw;top:83vh;height:10vh;position:fixed;display:flex;width:33vw;justify-content:center;align-items:center}\"]\n  });\n  return AuthPage;\n})();","map":null,"metadata":{},"sourceType":"module"}